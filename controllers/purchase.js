function add(e,s,i){e["public"][s]=i,e["public"][s+"s"]||(e["public"][s+"s"]=[]),-1==e["public"][s+"s"].indexOf(i)&&e["public"][s+"s"].push(i)}var _rates={money:20,gold:1},_bonus=.05;module.exports={go:function(e,s,i,r,a){var p=e.player;if("stimul"===s&&3===i?(r.energy=Math.ceil(p["private"].energyMax-p["private"].energy),p["private"].energy=p["private"].energyMax):"gyms"!==s&&"food"!==s&&"rest"!==s&&"stimul"!==s||p["private"][s].push(i),"exercises"===s)p["public"].exercises.push({_id:i});else if("hs"===s||"bd"===s||"gl"===s||"sh"===s||"ts"===s)add(p,s,i);else if("money"===s||"gold"===s){var t=Math.floor(a*_rates[s]+a*_bonus*(a*_rates[s]));p["private"][s]+=t,r[s]=t,delete r.purchase}else p["private"][s].push(i)}};